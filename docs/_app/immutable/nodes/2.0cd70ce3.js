import{s as st,f as Ht,n as R,r as Jt,e as W}from"../chunks/scheduler.1b72bc69.js";import{S as rt,i as ot,g as v,s as N,m as U,h,j as E,x,c as A,n as F,f as d,k as m,a as S,y as c,A as J,B as zt,z as M,C as ft,D as Et,o as Q,E as Qt,r as dt,u as vt,v as ht,d as lt,t as nt,w as _t,b as Xt,p as Yt}from"../chunks/index.3443ebb4.js";import{w as yt,r as Wt}from"../chunks/index.a4578f2f.js";import{p as Nt,a as At,c as kt,w as Ut,b as Zt}from"../chunks/settings.36c19f01.js";function et(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const ut=yt("setting");function Ct(s){return Math.floor(Math.random()*s.length)}function te(s){if(s.length<2)throw new Error("sourceWords must have at least 2 words");const t=s[Ct(s)],l=s.filter(n=>n!==t),e=l[Ct(l)];return[t,e]}function ee(s,t,l,e){if(l>=e)throw new Error("wolfCount must be less than participantCount");const n=Array(e).fill(t);let r=0;for(;r<l;){const o=Ct(n);n[o]!==s&&(n[o]=s,r++)}return n}const jt=yt([]),Gt=Wt(jt),Kt=yt(""),le=Wt(Kt);function ne(s,t,l,e){const[n,r]=te(s),o=ee(n,r,t,l);jt.set(o),Kt.set(e)}function Ft(s,t,l){const e=s.slice();return e[15]=t[l],e[16]=t,e[17]=l,e}function Ot(s,t,l){const e=s.slice();return e[18]=t[l],e[17]=l,e}function Lt(s){let t,l=s[18]+"",e;return{c(){t=v("option"),e=U(l),this.h()},l(n){t=h(n,"OPTION",{});var r=E(t);e=F(r,l),r.forEach(d),this.h()},h(){t.__value=s[17],J(t,t.__value)},m(n,r){S(n,t,r),c(t,e)},p(n,r){r&2&&l!==(l=n[18]+"")&&Q(e,l)},d(n){n&&d(t)}}}function Pt(s){let t,l,e,n,r;function o(){s[12].call(l,s[17])}return{c(){t=v("li"),l=v("input"),e=N(),this.h()},l(f){t=h(f,"LI",{});var u=E(t);l=h(u,"INPUT",{type:!0}),e=A(u),u.forEach(d),this.h()},h(){m(l,"type","text")},m(f,u){S(f,t,u),c(t,l),J(l,s[0][s[17]]),c(t,e),n||(r=M(l,"input",o),n=!0)},p(f,u){s=f,u&1&&l.value!==s[0][s[17]]&&J(l,s[0][s[17]])},d(f){f&&d(t),n=!1,r()}}}function se(s){let t,l,e,n,r,o="人狼:",f,u,a,p,q,y,I,C,B,D="カテゴリ:",k,i,g,T,z,w,L,mt,j,It="+",pt,G,Dt="⟳",gt,X,K,qt="はじめる",bt,wt,Y=et(s[1]),$=[];for(let b=0;b<Y.length;b+=1)$[b]=Lt(Ot(s,Y,b));let Z=et(s[0]),V=[];for(let b=0;b<Z.length;b+=1)V[b]=Pt(Ft(s,Z,b));return{c(){t=v("div"),l=v("div"),e=v("div"),n=v("div"),r=v("span"),r.textContent=o,f=N(),u=v("div"),a=v("input"),q=U(`
					/
					`),y=v("input"),I=N(),C=v("div"),B=v("span"),B.textContent=D,k=N(),i=v("div"),g=v("select");for(let b=0;b<$.length;b+=1)$[b].c();T=N(),z=v("div"),w=v("details"),L=v("ul");for(let b=0;b<V.length;b+=1)V[b].c();mt=N(),j=v("button"),j.textContent=It,pt=N(),G=v("button"),G.textContent=Dt,gt=N(),X=v("div"),K=v("button"),K.textContent=qt,this.h()},l(b){t=h(b,"DIV",{class:!0});var O=E(t);l=h(O,"DIV",{});var _=E(l);e=h(_,"DIV",{class:!0});var P=E(e);n=h(P,"DIV",{class:!0});var it=E(n);r=h(it,"SPAN",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-1kikvk6"&&(r.textContent=o),f=A(it),u=h(it,"DIV",{class:!0});var at=E(u);a=h(at,"INPUT",{type:!0,min:!0,max:!0,class:!0}),q=F(at,`
					/
					`),y=h(at,"INPUT",{type:!0,min:!0,class:!0}),at.forEach(d),it.forEach(d),I=A(P),C=h(P,"DIV",{class:!0});var ct=E(C);B=h(ct,"SPAN",{class:!0,"data-svelte-h":!0}),x(B)!=="svelte-6v3p77"&&(B.textContent=D),k=A(ct),i=h(ct,"DIV",{class:!0});var Bt=E(i);g=h(Bt,"SELECT",{class:!0});var $t=E(g);for(let H=0;H<$.length;H+=1)$[H].l($t);$t.forEach(d),Bt.forEach(d),ct.forEach(d),T=A(P),z=h(P,"DIV",{class:!0});var Vt=E(z);w=h(Vt,"DETAILS",{});var tt=E(w);L=h(tt,"UL",{});var Tt=E(L);for(let H=0;H<V.length;H+=1)V[H].l(Tt);Tt.forEach(d),mt=A(tt),j=h(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),x(j)!=="svelte-yzxqem"&&(j.textContent=It),pt=A(tt),G=h(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),x(G)!=="svelte-u2fxc6"&&(G.textContent=Dt),tt.forEach(d),Vt.forEach(d),P.forEach(d),gt=A(_),X=h(_,"DIV",{class:!0});var St=E(X);K=h(St,"BUTTON",{class:!0,"data-svelte-h":!0}),x(K)!=="svelte-1fh1fcv"&&(K.textContent=qt),St.forEach(d),_.forEach(d),O.forEach(d),this.h()},h(){m(r,"class","svelte-1gzuqoc"),m(a,"type","number"),m(a,"min","1"),m(a,"max",p=s[2]-1),m(a,"class","svelte-1gzuqoc"),m(y,"type","number"),m(y,"min","2"),m(y,"class","svelte-1gzuqoc"),m(u,"class","value svelte-1gzuqoc"),m(n,"class","property svelte-1gzuqoc"),m(B,"class","svelte-1gzuqoc"),m(g,"class","svelte-1gzuqoc"),s[4]===void 0&&Ht(()=>s[11].call(g)),m(i,"class","value svelte-1gzuqoc"),m(C,"class","property svelte-1gzuqoc"),m(j,"class","icon-button svelte-1gzuqoc"),m(G,"class","icon-button svelte-1gzuqoc"),m(z,"class","property svelte-1gzuqoc"),m(e,"class","properties svelte-1gzuqoc"),m(K,"class","svelte-1gzuqoc"),m(X,"class","button svelte-1gzuqoc"),m(t,"class","setting svelte-1gzuqoc")},m(b,O){S(b,t,O),c(t,l),c(l,e),c(e,n),c(n,r),c(n,f),c(n,u),c(u,a),J(a,s[3]),c(u,q),c(u,y),J(y,s[2]),c(e,I),c(e,C),c(C,B),c(C,k),c(C,i),c(i,g);for(let _=0;_<$.length;_+=1)$[_]&&$[_].m(g,null);zt(g,s[4],!0),c(e,T),c(e,z),c(z,w),c(w,L);for(let _=0;_<V.length;_+=1)V[_]&&V[_].m(L,null);c(w,mt),c(w,j),c(w,pt),c(w,G),c(l,gt),c(l,X),c(X,K),bt||(wt=[M(a,"input",s[9]),M(y,"input",s[10]),M(g,"change",s[11]),M(j,"click",s[13]),M(G,"click",s[5]),M(K,"click",s[6])],bt=!0)},p(b,[O]){if(O&4&&p!==(p=b[2]-1)&&m(a,"max",p),O&8&&ft(a.value)!==b[3]&&J(a,b[3]),O&4&&ft(y.value)!==b[2]&&J(y,b[2]),O&2){Y=et(b[1]);let _;for(_=0;_<Y.length;_+=1){const P=Ot(b,Y,_);$[_]?$[_].p(P,O):($[_]=Lt(P),$[_].c(),$[_].m(g,null))}for(;_<$.length;_+=1)$[_].d(1);$.length=Y.length}if(O&16&&zt(g,b[4]),O&1){Z=et(b[0]);let _;for(_=0;_<Z.length;_+=1){const P=Ft(b,Z,_);V[_]?V[_].p(P,O):(V[_]=Pt(P),V[_].c(),V[_].m(L,null))}for(;_<V.length;_+=1)V[_].d(1);V.length=Z.length}},i:R,o:R,d(b){b&&d(t),Et($,b),Et(V,b),bt=!1,Jt(wt)}}}function re(s,t,l){let e,n,r,o,f,u,a;W(s,Nt,i=>l(2,r=i)),W(s,At,i=>l(3,o=i)),W(s,kt,i=>l(4,f=i)),W(s,Ut,i=>l(14,u=i)),W(s,Zt,i=>l(8,a=i));let p=[...u];function q(){l(0,p=p.filter(i=>i!=="")),Ut.set(p)}function y(){var T;if(e.length===0){alert("カテゴリを取得できませんでした");return}const i=f===0?Math.floor(Math.random()*e.length):f-1,g=((T=e.find((z,w)=>w===i))==null?void 0:T.words)??[];if(g.length<2){alert("カテゴリが選択できませんでした");return}ne(g,o,r,n[i+1]),ut.set("game")}function I(){o=ft(this.value),At.set(o)}function C(){r=ft(this.value),Nt.set(r)}function B(){f=Qt(this),kt.set(f)}function D(i){p[i]=this.value,l(0,p)}const k=()=>l(0,p=[...p,""]);return s.$$.update=()=>{s.$$.dirty&256&&l(7,e=(()=>a.flatMap(i=>i.categories.map(g=>({name:g.name,words:g.words}))))()),s.$$.dirty&128&&l(1,n=(()=>{kt.set(0);const i=e.map(g=>g.name);return i.unshift("ランダム"),i})())},[p,n,r,o,f,q,y,e,a,I,C,B,D,k]}class oe extends rt{constructor(t){super(),ot(this,t,re,se,st,{})}}function ue(s){let t,l="はじめから",e,n;return{c(){t=v("button"),t.textContent=l,this.h()},l(r){t=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-7b1qjo"&&(t.textContent=l),this.h()},h(){m(t,"class","svelte-1o670vt")},m(r,o){S(r,t,o),e||(n=M(t,"click",s[0]),e=!0)},p:R,i:R,o:R,d(r){r&&d(t),e=!1,n()}}}function ie(s){function t(){confirm("設定画面からやり直しますか？")&&ut.set("setting")}return[t]}class ae extends rt{constructor(t){super(),ot(this,t,ie,ue,st,{})}}function Mt(s){let t,l=s[2][s[0]]+"",e;return{c(){t=v("div"),e=U(l)},l(n){t=h(n,"DIV",{});var r=E(t);e=F(r,l),r.forEach(d)},m(n,r){S(n,t,r),c(t,e)},p(n,r){r&5&&l!==(l=n[2][n[0]]+"")&&Q(e,l)},d(n){n&&d(t)}}}function ce(s){let t,l="表示する",e,n;return{c(){t=v("button"),t.textContent=l,this.h()},l(r){t=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1oco4de"&&(t.textContent=l),this.h()},h(){m(t,"class","svelte-1rbkved")},m(r,o){S(r,t,o),e||(n=M(t,"click",s[4]),e=!0)},p:R,d(r){r&&d(t),e=!1,n()}}}function fe(s){let t,l="次の人の待機画面へ",e,n;return{c(){t=v("button"),t.textContent=l,this.h()},l(r){t=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-zxzvkv"&&(t.textContent=l),this.h()},h(){m(t,"class","svelte-1rbkved")},m(r,o){S(r,t,o),e||(n=M(t,"click",s[3]),e=!0)},p:R,d(r){r&&d(t),e=!1,n()}}}function de(s){let t,l,e,n=s[0]+1+"",r,o,f,u,a,p,q,y,I,C=s[1]&&Mt(s);function B(i,g){return i[1]?fe:ce}let D=B(s),k=D(s);return y=new ae({}),{c(){t=v("div"),l=v("div"),e=v("div"),r=U(n),o=U("人目"),f=N(),C&&C.c(),u=N(),a=v("div"),k.c(),p=N(),q=v("div"),dt(y.$$.fragment),this.h()},l(i){t=h(i,"DIV",{class:!0});var g=E(t);l=h(g,"DIV",{class:!0});var T=E(l);e=h(T,"DIV",{class:!0});var z=E(e);r=F(z,n),o=F(z,"人目"),z.forEach(d),f=A(T),C&&C.l(T),T.forEach(d),u=A(g),a=h(g,"DIV",{class:!0});var w=E(a);k.l(w),p=A(w),q=h(w,"DIV",{});var L=E(q);vt(y.$$.fragment,L),L.forEach(d),w.forEach(d),g.forEach(d),this.h()},h(){m(e,"class","number"),m(l,"class","contents svelte-1rbkved"),m(a,"class","button svelte-1rbkved"),m(t,"class","game svelte-1rbkved")},m(i,g){S(i,t,g),c(t,l),c(l,e),c(e,r),c(e,o),c(l,f),C&&C.m(l,null),c(t,u),c(t,a),k.m(a,null),c(a,p),c(a,q),ht(y,q,null),I=!0},p(i,[g]){(!I||g&1)&&n!==(n=i[0]+1+"")&&Q(r,n),i[1]?C?C.p(i,g):(C=Mt(i),C.c(),C.m(l,null)):C&&(C.d(1),C=null),D===(D=B(i))&&k?k.p(i,g):(k.d(1),k=D(i),k&&(k.c(),k.m(a,p)))},i(i){I||(lt(y.$$.fragment,i),I=!0)},o(i){nt(y.$$.fragment,i),I=!1},d(i){i&&d(t),C&&C.d(),k.d(),_t(y)}}}function ve(s,t,l){let e;W(s,Gt,u=>l(2,e=u));let n=0,r=!1;function o(){confirm("OKを押したら次の人にまわしてね")&&(l(1,r=!1),l(0,n++,n),n>=e.length&&ut.set("result"))}function f(){confirm("誰も見てない？")&&l(1,r=!0)}return[n,r,e,o,f]}class he extends rt{constructor(t){super(),ot(this,t,ve,de,st,{})}}function Rt(s,t,l){const e=s.slice();return e[6]=t[l],e[8]=l,e}function _e(s){let t,l=et(s[3]),e=[];for(let n=0;n<l.length;n+=1)e[n]=xt(Rt(s,l,n));return{c(){t=v("ul");for(let n=0;n<e.length;n+=1)e[n].c()},l(n){t=h(n,"UL",{});var r=E(t);for(let o=0;o<e.length;o+=1)e[o].l(r);r.forEach(d)},m(n,r){S(n,t,r);for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(t,null)},p(n,r){if(r&8){l=et(n[3]);let o;for(o=0;o<l.length;o+=1){const f=Rt(n,l,o);e[o]?e[o].p(f,r):(e[o]=xt(f),e[o].c(),e[o].m(t,null))}for(;o<e.length;o+=1)e[o].d(1);e.length=l.length}},d(n){n&&d(t),Et(e,n)}}}function me(s){let t,l,e,n=Math.floor(s[1]/60).toString().padStart(2,"0")+"",r,o,f=(s[1]%60).toString().padStart(2,"0")+"",u;return{c(){t=v("div"),l=U(`議論開始！
					`),e=v("div"),r=U(n),o=U(":"),u=U(f),this.h()},l(a){t=h(a,"DIV",{class:!0});var p=E(t);l=F(p,`議論開始！
					`),e=h(p,"DIV",{class:!0});var q=E(e);r=F(q,n),o=F(q,":"),u=F(q,f),q.forEach(d),p.forEach(d),this.h()},h(){m(e,"class","timer svelte-erqbm4"),m(t,"class","meeting svelte-erqbm4")},m(a,p){S(a,t,p),c(t,l),c(t,e),c(e,r),c(e,o),c(e,u)},p(a,p){p&2&&n!==(n=Math.floor(a[1]/60).toString().padStart(2,"0")+"")&&Q(r,n),p&2&&f!==(f=(a[1]%60).toString().padStart(2,"0")+"")&&Q(u,f)},d(a){a&&d(t)}}}function xt(s){let t,l=s[8]+1+"",e,n,r=s[6]+"",o,f;return{c(){t=v("li"),e=U(l),n=U("人目: "),o=U(r),f=N()},l(u){t=h(u,"LI",{});var a=E(t);e=F(a,l),n=F(a,"人目: "),o=F(a,r),f=A(a),a.forEach(d)},m(u,a){S(u,t,a),c(t,e),c(t,n),c(t,o),c(t,f)},p(u,a){a&8&&r!==(r=u[6]+"")&&Q(o,r)},d(u){u&&d(t)}}}function pe(s){let t,l="タイトルに戻る",e,n;return{c(){t=v("button"),t.textContent=l,this.h()},l(r){t=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-tbcxmm"&&(t.textContent=l),this.h()},h(){m(t,"class","svelte-erqbm4")},m(r,o){S(r,t,o),e||(n=M(t,"click",s[5]),e=!0)},p:R,d(r){r&&d(t),e=!1,n()}}}function ge(s){let t,l="結果を表示する",e,n;return{c(){t=v("button"),t.textContent=l,this.h()},l(r){t=h(r,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1tyqmlr"&&(t.textContent=l),this.h()},h(){m(t,"class","svelte-erqbm4")},m(r,o){S(r,t,o),e||(n=M(t,"click",s[4]),e=!0)},p:R,d(r){r&&d(t),e=!1,n()}}}function be(s){let t,l,e,n,r,o,f,u,a,p;function q(k,i){return k[0]?_e:me}let y=q(s),I=y(s);function C(k,i){return k[0]?pe:ge}let B=C(s),D=B(s);return{c(){t=v("div"),l=v("div"),e=v("div"),n=U(`カテゴリ:
			`),r=v("div"),o=U(s[2]),f=N(),u=v("div"),I.c(),a=N(),p=v("div"),D.c(),this.h()},l(k){t=h(k,"DIV",{class:!0});var i=E(t);l=h(i,"DIV",{class:!0});var g=E(l);e=h(g,"DIV",{class:!0});var T=E(e);n=F(T,`カテゴリ:
			`),r=h(T,"DIV",{class:!0});var z=E(r);o=F(z,s[2]),z.forEach(d),T.forEach(d),f=A(g),u=h(g,"DIV",{});var w=E(u);I.l(w),w.forEach(d),g.forEach(d),a=A(i),p=h(i,"DIV",{class:!0});var L=E(p);D.l(L),L.forEach(d),i.forEach(d),this.h()},h(){m(r,"class","svelte-erqbm4"),m(e,"class","categoryName svelte-erqbm4"),m(l,"class","contents svelte-erqbm4"),m(p,"class","button svelte-erqbm4"),m(t,"class","result svelte-erqbm4")},m(k,i){S(k,t,i),c(t,l),c(l,e),c(e,n),c(e,r),c(r,o),c(l,f),c(l,u),I.m(u,null),c(t,a),c(t,p),D.m(p,null)},p(k,[i]){i&4&&Q(o,k[2]),y===(y=q(k))&&I?I.p(k,i):(I.d(1),I=y(k),I&&(I.c(),I.m(u,null))),B===(B=C(k))&&D?D.p(k,i):(D.d(1),D=B(k),D&&(D.c(),D.m(p,null)))},i:R,o:R,d(k){k&&d(t),I.d(),D.d()}}}function ke(s,t,l){let e,n;W(s,le,a=>l(2,e=a)),W(s,Gt,a=>l(3,n=a));let r=!1;function o(){confirm()&&l(0,r=!0)}function f(){ut.set("setting")}let u=0;return setInterval(()=>{l(1,u++,u)},1e3),[r,u,e,n,o,f]}class Ee extends rt{constructor(t){super(),ot(this,t,ke,be,st,{})}}function Ce(s){let t,l;return t=new Ee({}),{c(){dt(t.$$.fragment)},l(e){vt(t.$$.fragment,e)},m(e,n){ht(t,e,n),l=!0},i(e){l||(lt(t.$$.fragment,e),l=!0)},o(e){nt(t.$$.fragment,e),l=!1},d(e){_t(t,e)}}}function ye(s){let t,l;return t=new he({}),{c(){dt(t.$$.fragment)},l(e){vt(t.$$.fragment,e)},m(e,n){ht(t,e,n),l=!0},i(e){l||(lt(t.$$.fragment,e),l=!0)},o(e){nt(t.$$.fragment,e),l=!1},d(e){_t(t,e)}}}function Ie(s){let t,l;return t=new oe({}),{c(){dt(t.$$.fragment)},l(e){vt(t.$$.fragment,e)},m(e,n){ht(t,e,n),l=!0},i(e){l||(lt(t.$$.fragment,e),l=!0)},o(e){nt(t.$$.fragment,e),l=!1},d(e){_t(t,e)}}}function De(s){let t,l,e,n;const r=[Ie,ye,Ce],o=[];function f(u,a){return u[0]==="setting"?0:u[0]==="game"?1:u[0]==="result"?2:-1}return~(l=f(s))&&(e=o[l]=r[l](s)),{c(){t=v("div"),e&&e.c(),this.h()},l(u){t=h(u,"DIV",{class:!0});var a=E(t);e&&e.l(a),a.forEach(d),this.h()},h(){m(t,"class","page")},m(u,a){S(u,t,a),~l&&o[l].m(t,null),n=!0},p(u,[a]){let p=l;l=f(u),l!==p&&(e&&(Yt(),nt(o[p],1,1,()=>{o[p]=null}),Xt()),~l?(e=o[l],e||(e=o[l]=r[l](u),e.c()),lt(e,1),e.m(t,null)):e=null)},i(u){n||(lt(e),n=!0)},o(u){nt(e),n=!1},d(u){u&&d(t),~l&&o[l].d()}}}function qe(s,t,l){let e;return W(s,ut,n=>l(0,e=n)),[e]}class Te extends rt{constructor(t){super(),ot(this,t,qe,De,st,{})}}export{Te as component};
